<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NeuroArte DAO ‚Äì Arte, Ci√™ncia e Descentraliza√ß√£o</title>
  <meta name="description" content="NeuroArte DAO √© uma iniciativa global que une arte, ci√™ncia e Web3 para apoiar a neurodiversidade e pesquisa √©tica on-chain." />
  <meta name="keywords" content="NeuroArte, DAO, DeSci, neurodiversidade, arte, Web3, descentraliza√ß√£o, ENS, IPFS" />
  <meta name="author" content="NeuroArte DAO" />
  <meta property="og:title" content="NeuroArte DAO" />
  <meta property="og:description" content="Arte como dado. Ci√™ncia como empatia. Descentraliza√ß√£o como integridade." />
  <meta property="og:url" content="https://neuroarte.eth.link" />
  <meta property="og:type" content="website" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ===== GLOBAL STYLES ===== */
    body {
      padding-bottom: 100px; /* Adjust for fixed footer */
      background: radial-gradient(circle at bottom right, #3b0764 0%, #000000 60%);
      color: white;
      font-family: 'Inter', sans-serif;
      min-height: 100vh; /* Ensure body takes full viewport height */
      display: flex;
      flex-direction: column;
    }
    main {
      flex-grow: 1; /* Allow main content to expand */
    }
    footer {
      position: relative; /* Changed from fixed to relative for single page scroll */
      left: 0; right: 0; bottom: 0;
      background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(28,13,48,0.95) 35%);
      padding: 12px 0;
      text-align: center;
      z-index: 50;
      opacity: 0;
      transition: opacity 1.25s ease-in-out;
      margin-top: auto; /* Push footer to bottom */
    }
    .section-content {
      display: none; /* Hidden by default */
    }
    .section-content.active {
      display: block; /* Active section */
    }
    .nav-link.active {
      border-bottom: 2px solid #a78bfa; /* Highlight active tab */
    }
  </style>
</head>
<body class="text-white">

  <header class="p-6 flex flex-col md:flex-row justify-between items-center border-b border-gray-700">
    <h1 class="text-2xl font-bold mb-4 md:mb-0">üß† NeuroArte DAO</h1>
    <nav class="mt-4 text-sm text-center flex flex-wrap justify-center">
      <a href="#" onclick="showSection('home-section')" class="nav-link text-purple-400 underline mx-2 mb-2 md:mb-0 active">üè† In√≠cio</a>
      <a href="#" onclick="showSection('artist-section')" class="nav-link text-purple-400 underline mx-2 mb-2 md:mb-0">üé® Artista</a>
      <a href="#" onclick="showSection('scientist-section')" class="nav-link text-purple-400 underline mx-2 mb-2 md:mb-0">üî¨ Cientista</a>
      <a href="#" onclick="showSection('supporter-section')" class="nav-link text-purple-400 underline mx-2 mb-2 md:mb-0">ü§ù Apoiador</a>
      <a href="#" onclick="showSection('curadoria-section')" class="nav-link text-purple-400 underline mx-2 mb-2 md:mb-0">üñãÔ∏è Curadoria</a>
    </nav>
    <div class="mt-4 md:mt-0">
      <button onclick="toggleLanguage('pt')" class="px-2 py-1 mx-1 bg-purple-600 rounded">PT</button>
      <button onclick="toggleLanguage('en')" class="px-2 py-1 mx-1 bg-purple-600 rounded">EN</button>
    </div>
  </header>

  <main class="p-10 max-w-6xl mx-auto flex-grow">

    <!-- ===== HOME SECTION ===== -->
    <div id="home-section" class="section-content active">
      <div class="p-6 text-center">
        <button id="connectButtonHome" onclick="connectWalletHome()" class="bg-purple-600 hover:bg-purple-500 px-6 py-2 rounded-lg text-white transition">Conectar Wallet</button>
        <p id="walletAddressHome" class="mt-4 text-sm text-green-400"></p>
      </div>

      <!-- Portugu√™s -->
      <div data-lang="pt">
        <section class="py-10 px-6 bg-gray-900 text-white rounded-xl mb-12">
          <h2 class="text-2xl font-bold mb-6">Escolha seu perfil na DAO</h2>
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Artistas -->
            <div class="border rounded-xl p-6 bg-purple-800 shadow-lg">
              <h3 class="text-xl font-semibold mb-4">üé® Artista</h3>
              <p class="mb-4">Submeta sua arte, acompanhe vendas e participe da Creative Chamber.</p>
              <button onclick="showSection('artist-section')" class="bg-white text-purple-800 px-4 py-2 rounded">Entrar</button>
            </div>
            <!-- Cientistas -->
            <div class="border rounded-xl p-6 bg-purple-800 shadow-lg">
              <h3 class="text-xl font-semibold mb-4">üî¨ Cientista</h3>
              <p class="mb-4">Proponha pesquisas e publique m√©todos e resultados on-chain.</p>
              <button onclick="showSection('scientist-section')" class="bg-white text-purple-800 px-4 py-2 rounded">Entrar</button>
            </div>
            <!-- Apoiadores -->
            <div class="border rounded-xl p-6 bg-purple-800 shadow-lg">
              <h3 class="text-xl font-semibold mb-4">ü§ù Apoiador</h3>
              <p class="mb-4">Adquira tokens, vote e acompanhe projetos financiados.</p>
              <button onclick="showSection('supporter-section')" class="bg-white text-purple-800 px-4 py-2 rounded">Entrar</button>
            </div>
          </div>
        </section>

        <section class="mb-12">
          <h2 class="text-xl font-semibold mb-2">Arte, Ci√™ncia e Descentraliza√ß√£o</h2>
          <p class="text-gray-300 leading-relaxed">
            DAO global que valoriza artistas aliados √† neurodiversidade e financia pesquisa aberta com √©tica e transpar√™ncia on-chain.
          </p>
        </section>

        <section class="mb-12">
          <h3 class="text-lg font-semibold mb-4">üìÑ Documenta√ß√£o</h3>
          <ul class="space-y-2">
            <li>üìò <a class="text-blue-400 hover:underline" href="https://gateway.pinata.cloud/ipfs/bafkreidtx5gvwsa2cg2yamv4roaewlretv564qp6osgp7n3e64l5fccvsq" target="_blank">Whitepaper (IPFS)</a></li>
            <li>ü™ô <a class="text-blue-400 hover:underline" href="https://gateway.pinata.cloud/ipfs/bafkreih7jzoou3fttphmds2oofk4tdsxobvnwf7b5g3kptxjepka76zxga" target="_blank">Token Spec (IPFS)</a></li>
            <li>üì¶ <a class="text-blue-400 hover:underline" href="https://github.com/taleshack-prog/NeuroArte-DAO" target="_blank">Reposit√≥rio GitHub</a></li>
          </ul>
        </section>

        <section class="mb-12">
          <h3 class="text-lg font-semibold mb-4">üì° Identidade On-Chain</h3>
          <ul class="space-y-2 text-sm">
            <li><strong>ENS:</strong> neuroarte.eth</li>
            <li><strong>Endere√ßo:</strong> 0xE9eFC721405e102d81ee910C7B2534e1790632A4</li>
            <li><strong>Validade:</strong> Outubro 21, 2026</li>
            <li><strong>Email:</strong> <a class="text-blue-400 hover:underline" href="mailto:neuroartdao@proton.me">neuroartdao@proton.me</a></li>
          </ul>
        </section>

        <section class="mb-12">
          <h3 class="text-lg font-semibold mb-4">‚úâÔ∏è Fale Conosco</h3>
        </section>
        <form action="https://formspree.io/f/xdkpoqdy" method="POST" class="space-y-4">
          <input class="w-full p-2 rounded text-black" type="text" name="name" placeholder="Your name" required />
          <input class="w-full p-2 rounded text-black" type="email" name="email" placeholder="Your email" required />
          <textarea class="w-full p-2 rounded text-black" name="message" placeholder="Message" required></textarea>
          <button class="bg-purple-700 px-4 py-2 rounded" type="submit">Send</button>
        </form>

        <section>
          <h3 class="text-lg font-semibold mb-4">üîê Transpar√™ncia</h3>
          <p class="text-gray-400">A DAO divulgar√° todas as transa√ß√µes, decis√µes e gastos ap√≥s o deploy inicial.</p>
        </section>
      </div>

      <!-- English Version -->
      <div data-lang="en" style="display:none">
        <section class="py-10 px-6 bg-gray-900 text-white rounded-xl mb-12">
          <h2 class="text-2xl font-bold mb-6">Choose your profile in the DAO</h2>
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Artists -->
            <div class="border rounded-xl p-6 bg-purple-800 shadow-lg">
              <h3 class="text-xl font-semibold mb-4">üé® Artist</h3>
              <p class="mb-4">Submit your artwork, track sales, and participate in the Creative Chamber.</p>
              <button onclick="showSection('artist-section')" class="bg-white text-purple-800 px-4 py-2 rounded">Enter</button>
            </div>
            <!-- Scientists -->
            <div class="border rounded-xl p-6 bg-purple-800 shadow-lg">
              <h3 class="text-xl font-semibold mb-4">üî¨ Scientist</h3>
              <p class="mb-4">Propose research and publish methods and results on-chain.</p>
              <button onclick="showSection('scientist-section')" class="bg-white text-purple-800 px-4 py-2 rounded">Enter</button>
            </div>
            <!-- Supporters -->
            <div class="border rounded-xl p-6 bg-purple-800 shadow-lg">
              <h3 class="text-xl font-semibold mb-4">ü§ù Supporter</h3>
              <p class="mb-4">Acquire tokens, vote, and track funded projects.</p>
              <button onclick="showSection('supporter-section')" class="bg-white text-purple-800 px-4 py-2 rounded">Enter</button>
            </div>
          </div>
        </section>

        <section class="mb-12">
          <h2 class="text-xl font-semibold mb-2">Art, Science & Decentralization</h2>
          <p class="text-gray-300 leading-relaxed">
            A global DAO that empowers artists aligned with neurodiversity and funds open research with ethics and on-chain transparency.
          </p>
        </section>

        <section class="mb-12">
          <h3 class="text-lg font-semibold mb-4">üìÑ Documentation</h3>
          <ul class="space-y-2">
            <li>üìò <a class="text-blue-400 hover:underline" href="https://gateway.pinata.cloud/ipfs/bafkreidtx5gvwsa2cg2yamv4roaewlretv564qp6osgp7n3e64l5fccvsq" target="_blank">Whitepaper (IPFS)</a></li>
            <li>ü™ô <a class="text-blue-400 hover:underline" href="https://gateway.pinata.cloud/ipfs/bafkreih7jzoou3fttphmds2oofk4tdsxobvnwf7b5g3kptxjepka76zxga" target="_blank">Token Spec (IPFS)</a></li>
            <li>üì¶ <a class="text-blue-400 hover:underline" href="https://github.com/taleshack-prog/NeuroArte-DAO" target="_blank">GitHub Repository</a></li>
          </ul>
        </section>

        <section class="mb-12">
          <h3 class="text-lg font-semibold mb-4">üì° On-Chain Identity</h3>
          <ul class="space-y-2 text-sm">
            <li><strong>ENS:</strong> neuroarte.eth</li>
            <li><strong>Address:</strong> 0xE9eFC721405e102d81ee910C7B2534e1790632A4</li>
            <li><strong>Valid Until:</strong> October 21, 2026</li>
            <li><strong>Email:</strong> <a class="text-blue-400 hover:underline" href="mailto:neuroartdao@proton.me">neuroartdao@proton.me</a></li>
          </ul>
        </section>

        <section class="mb-12">
          <h3 class="text-lg font-semibold mb-4">‚úâÔ∏è Contact</h3>
          <form action="mailto:neuroartdao@proton.me" method="post" enctype="text/plain" class="space-y-4">
            <input class="w-full p-2 rounded text-black" type="text" name="name" placeholder="Your name" required />
            <input class="w-full p-2 rounded text-black" type="email" name="email" placeholder="Your email" required />
            <textarea class="w-full p-2 rounded text-black" name="message" placeholder="Message" required></textarea>
            <button class="bg-purple-700 px-4 py-2 rounded" type="submit">Send</button>
          </form>
        </section>

        <section>
          <h3 class="text-lg font-semibold mb-4">üîê Transparency</h3>
          <p class="text-gray-400">The DAO will disclose all transactions, decisions, and expenses after the initial deploy.</p>
        </section>
      </div>
    </div>

    <!-- ===== ARTIST PORTAL SECTION ===== -->
    <div id="artist-section" class="section-content">
      <header class="text-center mt-10">
        <h1 class="text-4xl font-bold">üåà Portal do Artista</h1>
        <p class="text-gray-300 mt-2">Submeta sua arte e contribua com a galeria da NeuroArte DAO.</p>
        <div class="mt-4">
          <button id="connectBtnArtist" onclick="connectWalletArtist()" class="bg-purple-700 px-4 py-2 rounded-xl">‚ú® Conectar Wallet</button>
        </div>
        <p id="walletStatusArtist" class="text-sm text-gray-300 mt-1"></p>
      </header>

      <section class="max-w-3xl mx-auto mt-12 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">üéì Submeter Obra para Mintagem</h2>
        <form id="uploadForm" class="space-y-4" enctype="multipart/form-data" onsubmit="submitArt(event)">
          <input type="text" id="titleInput" placeholder="T√≠tulo da Obra" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700" required>
          <textarea id="descriptionInput" placeholder="Descri√ß√£o da Obra" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700" required></textarea>
          <input type="file" id="artFile" name="artwork" accept="image/jpeg" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700" required>
          <button type="button" onclick="uploadArt()" class="bg-purple-700 hover:bg-purple-800 px-4 py-2 rounded-xl">üóïÔ∏è Enviar Arte</button>
          <input type="text" id="ipfsLink" placeholder="Link IPFS gerado" class="w-full p-2 mt-2 rounded bg-gray-800 text-white border border-purple-700" readonly required>
          <input type="number" id="editionsInput" placeholder="N√∫mero de C√≥pias (Edi√ß√µes)" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700" min="1" required>
          <input type="text" placeholder="Wallet do Artista (0x...)" id="walletInputArtist" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700" required>
          <button type="submit" id="submitButtonArtist" class="w-full bg-purple-700 hover:bg-purple-800 px-4 py-2 rounded-xl" disabled>Enviar para Curadoria da DAO</button>
        </form>
        <p id="submitStatus" class="text-sm text-gray-400 mt-2"></p>
        <p class="text-sm text-gray-400 mt-2">Ap√≥s aprova√ß√£o, a DAO cuidar√° da mintagem com split autom√°tico (70% artista, 20% DAO, 10% pesquisa).</p>
      </section>

      <section class="max-w-4xl mx-auto mt-12 px-4">
        <h2 class="text-xl font-semibold text-center mb-2">üé® Galeria NeuroArte DAO</h2>
        <p class="text-center text-sm text-gray-400 mb-6">Obras mintadas por artistas da DAO e listadas na <a href="https://manifold.xyz" class="text-purple-400 underline">Manifold</a>.</p>
        <div id="artGallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
      </section>
    </div>

    <!-- ===== SCIENTIST PORTAL SECTION ===== -->
    <div id="scientist-section" class="section-content">
      <header class="text-center mt-10">
        <h1 class="text-4xl font-bold">üî¨ Portal do Cientista</h1>
        <p class="text-gray-300 mt-2">Pesquisa Aberta, Transparente e Descentralizada</p>
      </header>

      <div class="text-center mt-4">
        <button onclick="connectWalletScientist()" class="bg-purple-700 hover:bg-purple-800 px-4 py-2 rounded-xl">üîå Conectar Wallet</button>
        <p id="walletStatusScientist" class="text-sm text-gray-300 mt-1"></p>
      </div>

      <!-- Se√ß√£o: Submiss√£o de Propostas -->
      <section class="max-w-3xl mx-auto mt-12 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">üß™ Submeta sua Proposta de Pesquisa</h2>
        <form id="proposalForm" class="space-y-4" onsubmit="submitResearch(event)">
          <div>
            <label class="block text-sm mb-1">T√≠tulo da Proposta</label>
            <input type="text" id="titleInputScientist" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700 focus:outline-none" required />
          </div>
          <div>
            <label class="block text-sm mb-1">√Årea Cient√≠fica</label>
            <select id="areaInputScientist" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700 focus:outline-none">
              <option>Neuroci√™ncia</option>
              <option>Psicologia</option>
              <option>Educa√ß√£o</option>
              <option>Arte-Cogni√ß√£o</option>
              <option>Interdisciplinar</option>
            </select>
          </div>
          <div>
            <label class="block text-sm mb-1">Resumo (Abstract)</label>
            <textarea id="abstractInputScientist" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700 focus:outline-none" rows="4" placeholder="Descreva brevemente sua proposta..." required></textarea>
          </div>
          <div>
            <label class="block text-sm mb-1">Financiamento Solicitado (em $NEURO)</label>
            <input type="number" id="fundingInputScientist" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700 focus:outline-none" placeholder="Ex: 25000" required />
          </div>
          <div>
            <label class="block text-sm mb-1">Seu Wallet (ou Nome)</label>
            <input type="text" id="scientistWalletInput" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700 focus:outline-none" required />
          </div>
          <button type="submit" class="w-full mt-4 bg-purple-700 hover:bg-purple-800 text-white px-4 py-2 rounded-lg transition">
            Submeter para Revis√£o Comunit√°ria üß†
          </button>
        </form>
        <p id="statusMessageScientist" class="text-sm text-gray-400 mt-2"></p>
      </section>

      <!-- Se√ß√£o: Pesquisas em Andamento -->
      <section class="max-w-5xl mx-auto mt-16">
        <h2 class="text-2xl font-semibold mb-6 text-center">üß† Pesquisas em Andamento</h2>
        <div id="proposalsList" class="grid gap-6 sm:grid-cols-2 md:grid-cols-3">
          <!-- Carregado dinamicamente via JavaScript -->
        </div>
      </section>

      <!-- Se√ß√£o: Transpar√™ncia Financeira -->
      <section class="max-w-4xl mx-auto mt-16 mb-32 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4 text-center">üí∞ Financiamento e Transpar√™ncia</h2>
        <p class="text-gray-300 text-center mb-6">
          Monitoramento em tempo real do uso de recursos da DAO em pesquisas.
        </p>
        <div id="fundingList" class="space-y-4">
          <!-- Carregado dinamicamente -->
        </div>
      </section>
    </div>

    <!-- ===== SUPPORTER PORTAL SECTION ===== -->
    <div id="supporter-section" class="section-content">
      <header class="text-center mt-10">
        <h1 class="text-4xl font-bold">üß† Portal do Apoiador</h1>
        <p class="text-gray-300 mt-2">Engaje-se com a governan√ßa e apoie a ci√™ncia aberta.</p>
      </header>

      <!-- Se√ß√£o: Conectar Wallet -->
      <section class="max-w-3xl mx-auto mt-12 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <button onclick="connectWalletSupporter()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-xl">
          üîå Conectar Carteira
        </button>
        <p id="walletStatusSupporter" class="text-sm text-gray-300 mt-1"></p>
        <p class="mt-2 text-sm text-gray-300">Compra de $NEURO em breve.</p>
      </section>

      <!-- Se√ß√£o: Vota√ß√£o de Propostas de Arte -->
      <section class="max-w-4xl mx-auto mt-12 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">üé® Vota√ß√£o: Propostas de Arte</h2>
        <div id="artVotingList" class="space-y-4">
          <p class="text-gray-400">Carregando propostas...</p>
        </div>
      </section>

      <!-- Se√ß√£o: Vota√ß√£o de Propostas de Pesquisa -->
      <section class="max-w-4xl mx-auto mt-12 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">üî¨ Vota√ß√£o: Propostas de Pesquisa</h2>
        <div id="researchVotingListSupporter" class="space-y-4">
          <p class="text-gray-400">Carregando propostas...</p>
        </div>
      </section>

      <!-- Se√ß√£o: Envio de Sugest√µes -->
      <section class="max-w-3xl mx-auto mt-12 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">üí° Sugerir Nova Pauta</h2>
        <form id="suggestionForm" class="space-y-4" onsubmit="submitSuggestion(event)">
          <input type="text" id="suggestionTitle" placeholder="T√≠tulo da Proposta" class="w-full p-2 rounded bg-gray-800 text-white border border-purple-700" required>
          <textarea id="suggestionDesc" placeholder="Descri√ß√£o detalhada" class="w-full p-2 h-24 rounded bg-gray-800 text-white border border-purple-700" required></textarea>
          <button type="submit" class="bg-purple-700 hover:bg-purple-800 px-4 py-2 rounded-xl">Enviar Sugest√£o</button>
        </form>
        <p id="suggestionStatus" class="text-sm text-gray-400 mt-2"></p>
      </section>

      <!-- Se√ß√£o: Transpar√™ncia -->
      <section class="max-w-4xl mx-auto mt-12 mb-20 bg-gray-900 bg-opacity-70 p-6 rounded-2xl shadow-lg">
        <h2 class="text-2xl font-semibold text-center mb-4">üìä Transpar√™ncia da DAO</h2>
        <ul class="text-sm text-gray-300 list-disc pl-6 space-y-1">
          <li>Distribui√ß√£o de tokens: <a href="#" class="text-blue-400 underline">ver em Dune</a></li>
          <li>Propostas anteriores e resultados</li>
          <li>Auditorias p√∫blicas: contratos, CIDs e hashes registrados</li>
          <li>Fontes de financiamento e COI declarados</li>
        </ul>
      </section>
    </div>

    <!-- ===== CURADORIA PORTAL SECTION ===== -->
    <div id="curadoria-section" class="section-content">
      <header class="text-center py-4">
        <h1 class="text-3xl font-bold">üñãÔ∏è Painel de Curadoria</h1>
        <p class="text-sm">Revis√£o das obras submetidas √† NeuroArte DAO</p>
        <div class="mt-4">
          <button onclick="connectWalletCuradoria()" class="bg-purple-700 px-4 py-2 rounded">üîå Conectar Wallet</button>
          <p id="walletStatusCuradoria" class="text-sm mt-1 text-gray-300"></p>
        </div>
      </header>

      <main class="max-w-3xl mx-auto p-4">
        <section class="bg-gray-900 p-6 rounded-xl shadow-lg">
          <h2 class="text-xl font-bold mb-4 flex items-center">
            üñºÔ∏è <span class="ml-2">Obras Submetidas</span>
          </h2>
          <div id="artworksContainerCuradoria">
            <!-- Obras ser√£o carregadas aqui via JS -->
          </div>
        </section>
      </main>
    </div>

  </main>

  <footer id="daoFooter">
    <a href="#" onclick="showSection('home-section')" style="display:inline-block; background:#d020b1; color:#fff; padding:8px 14px; border-radius:8px; text-decoration:none;">
      ‚Üê Voltar √† Home
    </a>
    <p id="footerText" class="text-gray-400 text-sm mt-2">
      Feito com üç© ‚ú® ‚ù§Ô∏è pela comunidade NeuroArte DAO.
    </p>
  </footer>

  <script>
    // ============ GLOBAL CONFIG & WEB3 AUTH ============
    const BACKEND_URL = "https://neuroarte-dao.onrender.com";
    let currentWallet = null; // Global variable to store connected wallet

    async function authenticateWithWeb3() {
      try {
        if (!window.ethereum) {
          alert('‚ö†Ô∏è Instale MetaMask para continuar');
          return null;
        }

        console.log('üîå Conectando √† carteira...');
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const wallet = accounts[0];
        console.log('‚úÖ Carteira conectada:', wallet);

        console.log('üîê Solicitando desafio...');
        const challengeResponse = await fetch(`${BACKEND_URL}/api/auth/challenge`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ wallet })
        });

        const { message, timestamp } = await challengeResponse.json();
        console.log('üìù Desafio recebido:', message);

        console.log('‚úçÔ∏è Pedindo assinatura...');
        const signature = await window.ethereum.request({
          method: 'personal_sign',
          params: [message, wallet]
        });
        console.log('‚úÖ Mensagem assinada');

        console.log('üîç Verificando assinatura no backend...');
        const verifyResponse = await fetch(`${BACKEND_URL}/api/auth/verify`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            wallet,
            message,
            signature
          })
        });

        const verifyData = await verifyResponse.json();

        if (verifyData.success) {
          console.log('üéâ Autentica√ß√£o bem-sucedida!');
          localStorage.setItem('authToken', verifyData.token);
          localStorage.setItem('userWallet', wallet);
          currentWallet = wallet; // Set global currentWallet
          return { token: verifyData.token, wallet: verifyData.wallet };
        } else {
          alert('‚ùå Falha na autentica√ß√£o: ' + verifyData.error);
          return null;
        }

      } catch (error) {
        console.error('‚ùå Erro:', error);
        alert('Erro ao autenticar. Verifique o console.');
        return null;
      }
    }

    function getAuthToken() {
      return localStorage.getItem('authToken');
    }

    function getUserWallet() {
      return localStorage.getItem('userWallet');
    }

    function logout() {
      localStorage.removeItem('authToken');
      localStorage.removeItem('userWallet');
      currentWallet = null;
      console.log('‚úÖ Desconectado');
    }

    async function authenticatedFetch(url, options = {}) {
      const token = getAuthToken();
      const headers = {
        'Content-Type': 'application/json',
        ...options.headers
      };
      if (token) {
        headers['Authorization'] = `Bearer ${token}`;
      }
      return fetch(url, { ...options, headers });
    }

    // ============ NAVIGATION & LANGUAGE ============
    function showSection(sectionId) {
      document.querySelectorAll('.section-content').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');

      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      document.querySelector(`.nav-link[onclick="showSection('${sectionId}')"]`).classList.add('active');

      // Trigger specific loads when a section becomes active
      if (sectionId === 'artist-section') {
        renderGallery(artistArtworks); // Re-render gallery on section switch
      } else if (sectionId === 'scientist-section') {
        loadProposalsScientist();
      } else if (sectionId === 'supporter-section') {
        loadArtProposalsSupporter();
        loadResearchProposalsSupporter();
      } else if (sectionId === 'curadoria-section') {
        checkWalletAccessCuradoria();
        renderArtworksCuradoria();
      }
      window.scrollTo(0, 0); // Scroll to top when changing section
    }

    let currentLanguage = 'pt';
    function toggleLanguage(lang) {
      currentLanguage = lang;
      document.querySelectorAll('[data-lang]').forEach(el => {
        el.style.display = el.dataset.lang === lang ? 'block' : 'none';
      });
    }

    // ============ HOME SECTION LOGIC ============
    async function connectWalletHome() {
      const auth = await authenticateWithWeb3();
      if (auth) {
        document.getElementById("walletAddressHome").textContent = `Wallet conectada: ${auth.wallet}`;
        document.getElementById("connectButtonHome").style.display = 'none';
      } else {
        document.getElementById("walletAddressHome").textContent = "Conex√£o recusada.";
      }
    }

    // ============ ARTIST PORTAL LOGIC ============
    async function connectWalletArtist() {
      const auth = await authenticateWithWeb3();
      if (auth) {
        document.getElementById("walletStatusArtist").textContent = `‚úÖ Autenticado: ${auth.wallet}`;
        document.getElementById("walletInputArtist").value = auth.wallet;
        document.getElementById("submitButtonArtist").disabled = false;
        document.getElementById("connectBtnArtist").style.display = 'none';
      } else {
        document.getElementById("walletStatusArtist").textContent = `‚ùå Falha na autentica√ß√£o`;
      }
    }

    async function uploadArt() {
      const token = getAuthToken();
      if (!token) {
        alert('‚ùå Voc√™ precisa estar autenticado para fazer upload. Clique em "Conectar Wallet"');
        return;
      }

      const fileInput = document.getElementById('artFile');
      const titleInput = document.getElementById('titleInput');
      const descriptionInput = document.getElementById('descriptionInput');
      const ipfsInput = document.getElementById('ipfsLink');

      if (!fileInput.files.length) {
        alert('‚ùå Escolha um arquivo JPEG primeiro!');
        return;
      }
      if (!titleInput.value.trim()) {
        alert('‚ùå Preencha o t√≠tulo da obra');
        return;
      }
      if (!descriptionInput.value.trim()) {
        alert('‚ùå Preencha a descri√ß√£o da obra');
        return;
      }

      const formData = new FormData();
      formData.append('artwork', fileInput.files[0]);
      formData.append('title', titleInput.value);
      formData.append('description', descriptionInput.value);

      try {
        const response = await authenticatedFetch(`${BACKEND_URL}/upload`, {
          method: 'POST',
          body: formData,
          headers: { 'Content-Type': undefined } // Let browser set Content-Type for FormData
        });

        const result = await response.json();
        console.log("Resposta do servidor:", result);

        if (result && result.url && result.cid) {
          ipfsInput.value = result.url;
          alert('‚úÖ Imagem enviada com sucesso! Link IPFS gerado.');
        } else {
          throw new Error('Resposta inesperada do servidor: ' + JSON.stringify(result));
        }
      } catch (error) {
        console.error('Erro no upload:', error);
        alert('‚ùå Falha ao enviar a imagem pro IPFS.');
      }
    }

    async function submitArt(event) {
      event.preventDefault();

      const token = getAuthToken();
      if (!token) {
        alert('‚ùå Voc√™ precisa estar autenticado. Clique em "Conectar Wallet"');
        return;
      }

      const title = document.getElementById('titleInput').value;
      const description = document.getElementById('descriptionInput').value;
      const ipfsLink = document.getElementById('ipfsLink').value;
      const artistWallet = document.getElementById('walletInputArtist').value;
      const editions = document.getElementById('editionsInput').value;
      const statusMsg = document.getElementById('submitStatus');

      if (!ipfsLink.trim()) {
        alert('‚ùå Voc√™ precisa fazer upload da arte primeiro (clique em "üóïÔ∏è Enviar Arte")');
        return;
      }
      if (!title.trim() || !description.trim() || !artistWallet.trim() || !editions) {
        alert('‚ùå Preencha todos os campos obrigat√≥rios');
        return;
      }

      statusMsg.textContent = '‚è≥ Enviando proposta...';

      try {
        const ipfsHash = ipfsLink.includes('/ipfs/') ? ipfsLink.split('/ipfs/')[1] : ipfsLink;

        const response = await authenticatedFetch(`${BACKEND_URL}/api/art/submit`, {
          method: 'POST',
          body: JSON.stringify({
            title,
            description,
            ipfsHash,
            artistWallet,
            editions: parseInt(editions)
          })
        });

        const result = await response.json();

        if (result.success) {
          statusMsg.textContent = `‚úÖ Sucesso! Proposta ID: ${result.proposalId}. Aguarde a curadoria.`;
          document.getElementById('uploadForm').reset();
          document.getElementById('ipfsLink').value = '';
          document.getElementById('submitButtonArtist').disabled = true;
        } else {
          statusMsg.textContent = `‚ùå Erro: ${result.error}`;
        }
      } catch (error) {
        console.error('Erro:', error);
        statusMsg.textContent = '‚ùå Erro ao enviar proposta. Verifique a conex√£o.';
      }
    }

    const artistArtworks = [
      {
        title: "Neuroesfera I",
        artist: "Tales Hack",
        image: "https://via.placeholder.com/300x200?text=Neuroesfera+I",
        link: "https://manifold.xyz/c/0x1234",
        price: "0.12 ETH"
      },
      {
        title: "Fluxo Divergente",
        artist: "Maya Costa",
        image: "https://via.placeholder.com/300x200?text=Fluxo+Divergente",
        link: "https://manifold.xyz/c/0x5678",
        price: "0.20 ETH"
      }
    ];

    function renderGallery(data) {
      const gallery = document.getElementById("artGallery");
      gallery.innerHTML = "";
      
      if (!data || data.length === 0) {
        gallery.innerHTML = '<p class="text-gray-400 col-span-full text-center">Nenhuma obra na galeria ainda.</p>';
        return;
      }
      
      data.forEach(item => {
        const card = document.createElement("div");
        card.className = "bg-gray-800 rounded-xl p-4 border border-purple-700 shadow";
        card.innerHTML = `
          <img src="${item.image}" alt="${item.title}" class="w-full h-40 object-cover rounded" onerror="this.src='https://via.placeholder.com/300x200?text=Imagem+Indispon√≠vel'" />
          <h3 class="mt-2 text-lg font-bold">${item.title}</h3>
          <p class="text-sm">üîç ${item.artist}</p>
          <p class="text-sm">üí∞ ${item.price}</p>
          <a class="text-sm text-purple-400 underline" href="${item.link}" target="_blank">Ver na Manifold</a>
        `;
        gallery.appendChild(card);
      });
    }

    // ============ SCIENTIST PORTAL LOGIC ============
    async function connectWalletScientist() {
      const auth = await authenticateWithWeb3();
      if (auth) {
        document.getElementById("walletStatusScientist").textContent = `‚úÖ Autenticado: ${auth.wallet}`;
        document.getElementById("scientistWalletInput").value = auth.wallet;
      } else {
        document.getElementById("walletStatusScientist").textContent = `‚ùå Falha na autentica√ß√£o`;
      }
    }

    async function submitResearch(event) {
      event.preventDefault();

      const token = getAuthToken();
      if (!token) {
        alert('‚ùå Voc√™ precisa estar autenticado. Clique em "Conectar Wallet"');
        return;
      }

      const title = document.getElementById("titleInputScientist").value;
      const area = document.getElementById("areaInputScientist").value;
      const abstract = document.getElementById("abstractInputScientist").value;
      const funding = document.getElementById("fundingInputScientist").value;
      const wallet = document.getElementById("scientistWalletInput").value;
      const statusMsg = document.getElementById("statusMessageScientist");

      try {
        statusMsg.textContent = "‚è≥ Enviando proposta...";

        const response = await authenticatedFetch(`${BACKEND_URL}/api/research/submit`, {
          method: "POST",
          body: JSON.stringify({
            title,
            abstract,
            picoJson: { area },
            requestedFunding: parseInt(funding),
            scientistWallet: wallet
          })
        });

        const result = await response.json();

        if (result.success) {
          statusMsg.textContent = `‚úÖ Sucesso! Proposta ID: ${result.proposalId}. Aguarde a revis√£o comunit√°ria.`;
          document.getElementById("proposalForm").reset();
          loadProposalsScientist(); // Recarregar lista
        } else {
          statusMsg.textContent = `‚ùå Erro: ${result.error}`;
        }
      } catch (error) {
        console.error("Erro:", error);
        statusMsg.textContent = "‚ùå Erro ao enviar proposta. Verifique a conex√£o.";
      }
    }

    async function loadProposalsScientist() {
      try {
        const response = await fetch(`${BACKEND_URL}/api/research/proposals`);
        const data = await response.json();

        const container = document.getElementById("proposalsList");
        container.innerHTML = "";

        if (data.proposals.length === 0) {
          container.innerHTML = '<p class="text-gray-400 col-span-full text-center">Nenhuma proposta pendente.</p>';
          return;
        }

        data.proposals.forEach(proposal => {
          const card = document.createElement("div");
          card.className = "bg-gray-900 bg-opacity-70 p-4 rounded-xl border border-purple-800 shadow-md";
          card.innerHTML = `
            <h3 class="font-semibold text-lg">${proposal.title}</h3>
            <p class="text-gray-400 text-sm mb-1">Cientista: ${proposal.scientistWallet}</p>
            <p class="text-purple-400 text-sm mb-2">Status: Aguardando Vota√ß√£o</p>
            <p class="text-gray-300 text-sm mb-2">${proposal.abstract.substring(0, 100)}...</p>
            <p class="text-sm text-yellow-400">Financiamento: $${proposal.requestedFunding} NEURO</p>
            <div class="mt-3 flex gap-2">
              <button onclick="voteResearchScientist(${proposal.id}, 'for')" class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-sm">üëç Apoiar</button>
              <button onclick="voteResearchScientist(${proposal.id}, 'against')" class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm">üëé Rejeitar</button>
            </div>
            <p class="text-xs text-gray-500 mt-2">Votos: ‚úÖ ${proposal.votes.for} | ‚ùå ${proposal.votes.against}</p>
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error("Erro ao carregar propostas:", error);
      }
    }

    async function voteResearchScientist(proposalId, vote) {
      const token = getAuthToken();
      if (!token) {
        alert('‚ùå Voc√™ precisa estar autenticado para votar');
        return;
      }

      const wallet = getUserWallet();

      try {
        const response = await authenticatedFetch(`${BACKEND_URL}/api/voting/vote`, {
          method: "POST",
          body: JSON.stringify({
            proposalId,
            proposalType: "research",
            voterWallet: wallet,
            vote
          })
        });

        const result = await response.json();

        if (result.success) {
          alert("‚úÖ Voto registrado!");
          loadProposalsScientist();
        } else {
          alert(`‚ùå ${result.error}`);
        }
      } catch (error) {
        alert("Erro ao votar");
      }
    }

    // ============ SUPPORTER PORTAL LOGIC ============
    async function connectWalletSupporter() {
      const auth = await authenticateWithWeb3();
      if (auth) {
        currentWallet = auth.wallet;
        document.getElementById("walletStatusSupporter").textContent = `‚úÖ Conectada: ${auth.wallet}`;
        loadArtProposalsSupporter();
        loadResearchProposalsSupporter();
      } else {
        document.getElementById("walletStatusSupporter").textContent = `‚ùå Falha na autentica√ß√£o`;
      }
    }

    async function loadArtProposalsSupporter() {
      try {
        const response = await fetch(`${BACKEND_URL}/api/art/proposals`);
        const data = await response.json();

        const container = document.getElementById("artVotingList");
        container.innerHTML = "";

        if (data.proposals.length === 0) {
          container.innerHTML = '<p class="text-gray-400">Nenhuma proposta de arte pendente.</p>';
          return;
        }

        data.proposals.forEach(proposal => {
          const card = document.createElement("div");
          card.className = "border-l-4 border-purple-600 p-4 bg-gray-800 rounded-lg";
          card.innerHTML = `
            <h3 class="font-bold text-lg">üé® ${proposal.title}</h3>
            <p class="text-sm text-gray-400">Artista: ${proposal.artistWallet}</p>
            <p class="text-sm text-gray-300 mt-2">${proposal.description}</p>
            <p class="text-sm text-yellow-400 mt-2">IPFS: <a href="https://ipfs.io/ipfs/${proposal.ipfsHash}" target="_blank" class="underline">${proposal.ipfsHash.slice(0, 20)}...</a></p>
            
            <div class="mt-3 flex gap-2">
              <button onclick="voteArtSupporter(${proposal.id}, 'for')" class="bg-green-600 hover:bg-green-700 px-4 py-1 rounded text-sm">üëç Apoiar</button>
              <button onclick="voteArtSupporter(${proposal.id}, 'against')" class="bg-red-600 hover:bg-red-700 px-4 py-1 rounded text-sm">üëé Rejeitar</button>
            </div>
            <p class="text-xs text-gray-500 mt-2">Votos: ‚úÖ ${proposal.votes.for} | ‚ùå ${proposal.votes.against}</p>
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error("Erro ao carregar propostas de arte:", error);
        document.getElementById("artVotingList").innerHTML = '<p class="text-red-400">Erro ao carregar propostas.</p>';
      }
    }

    async function loadResearchProposalsSupporter() {
      try {
        const response = await fetch(`${BACKEND_URL}/api/research/proposals`);
        const data = await response.json();

        const container = document.getElementById("researchVotingListSupporter");
        container.innerHTML = "";

        if (data.proposals.length === 0) {
          container.innerHTML = '<p class="text-gray-400">Nenhuma proposta de pesquisa pendente.</p>';
          return;
        }

        data.proposals.forEach(proposal => {
          const card = document.createElement("div");
          card.className = "border-l-4 border-cyan-600 p-4 bg-gray-800 rounded-lg";
          card.innerHTML = `
            <h3 class="font-bold text-lg">üî¨ ${proposal.title}</h3>
            <p class="text-sm text-gray-400">Cientista: ${proposal.scientistWallet}</p>
            <p class="text-sm text-gray-300 mt-2">${proposal.abstract}</p>
            <p class="text-sm text-yellow-400 mt-2">üí∞ Financiamento solicitado: $${proposal.requestedFunding} NEURO</p>
            
            <div class="mt-3 flex gap-2">
              <button onclick="voteResearchSupporter(${proposal.id}, 'for')" class="bg-green-600 hover:bg-green-700 px-4 py-1 rounded text-sm">üëç Financiar</button>
              <button onclick="voteResearchSupporter(${proposal.id}, 'against')" class="bg-red-600 hover:bg-red-700 px-4 py-1 rounded text-sm">üëé Rejeitar</button>
            </div>
            <p class="text-xs text-gray-500 mt-2">Votos: ‚úÖ ${proposal.votes.for} | ‚ùå ${proposal.votes.against}</p>
          `;
          container.appendChild(card);
        });
      } catch (error) {
        console.error("Erro ao carregar propostas de pesquisa:", error);
        document.getElementById("researchVotingListSupporter").innerHTML = '<p class="text-red-400">Erro ao carregar propostas.</p>';
      }
    }

    async function voteArtSupporter(proposalId, vote) {
      const token = getAuthToken();
      if (!token) {
        alert('‚ùå Voc√™ precisa estar autenticado para votar');
        return;
      }

      const wallet = getUserWallet();

      try {
        const response = await authenticatedFetch(`${BACKEND_URL}/api/voting/vote`, {
          method: "POST",
          body: JSON.stringify({
            proposalId,
            proposalType: "art",
            voterWallet: wallet,
            vote
          })
        });

        const result = await response.json();

        if (result.success) {
          alert("‚úÖ Voto registrado!");
          loadArtProposalsSupporter();
        } else {
          alert(`‚ùå ${result.error}`);
        }
      } catch (error) {
        alert("Erro ao votar");
      }
    }

    async function voteResearchSupporter(proposalId, vote) {
      const token = getAuthToken();
      if (!token) {
        alert('‚ùå Voc√™ precisa estar autenticado para votar');
        return;
      }

      const wallet = getUserWallet();

      try {
        const response = await authenticatedFetch(`${BACKEND_URL}/api/voting/vote`, {
          method: "POST",
          body: JSON.stringify({
            proposalId,
            proposalType: "research",
            voterWallet: wallet,
            vote
          })
        });

        const result = await response.json();

        if (result.success) {
          alert("‚úÖ Voto registrado!");
          loadResearchProposalsSupporter();
        } else {
          alert(`‚ùå ${result.error}`);
        }
      } catch (error) {
        alert("Erro ao votar");
      }
    }

    async function submitSuggestion(event) {
      event.preventDefault();

      const title = document.getElementById("suggestionTitle").value;
      const description = document.getElementById("suggestionDesc").value;
      const statusMsg = document.getElementById("suggestionStatus");

      statusMsg.textContent = "‚è≥ Enviando...";

      // Por enquanto, apenas confirma (depois conecta a um endpoint real)
      setTimeout(() => {
        statusMsg.textContent = "‚úÖ Sugest√£o enviada! Obrigado por contribuir.";
        document.getElementById("suggestionForm").reset();
      }, 1000);
    }

    // ============ CURADORIA PORTAL LOGIC ============
    const allowedCurators = [
      "0xE9eFC721405e1026B1ee91C07B2534e1796632A4",
      "0x59a42f0b0a6c5e0ab24c09fa4101d2df85d3e391"
    ].map(w => w.toLowerCase());

    async function connectWalletCuradoria() {
      const auth = await authenticateWithWeb3();
      if (auth) {
        document.getElementById("walletStatusCuradoria").textContent = `Wallet conectada: ${auth.wallet}`;
        checkAccessCuradoria();
      } else {
        document.getElementById("walletStatusCuradoria").textContent = "Conex√£o recusada.";
      }
    }

    function checkAccessCuradoria() {
      const approveButtons = document.querySelectorAll("#curadoria-section .approve-btn");
      if (currentWallet && allowedCurators.includes(currentWallet.toLowerCase())) {
        approveButtons.forEach(btn => btn.disabled = false);
      } else {
        approveButtons.forEach(btn => {
          btn.disabled = true;
          btn.title = "Apenas a wallet oficial da curadoria pode aprovar.";
        });
      }
    }

    const submittedArtworksCuradoria = [
      {
        title: "Neuroesfera I",
        editions: 25,
        artistWallet: "0x123...abc",
        votes: { yes: 2, no: 1 },
      },
      {
        title: "C√©rebro C√≥smico",
        editions: 10,
        artistWallet: "0x456...def",
        votes: { yes: 0, no: 0 },
      },
    ];

    function renderArtworksCuradoria() {
      const container = document.getElementById("artworksContainerCuradoria");
      container.innerHTML = "";

      submittedArtworksCuradoria.forEach((artwork, index) => {
        const card = document.createElement("div");
        card.className = "bg-gray-800 p-4 rounded-lg border border-purple-600 mb-4";

        card.innerHTML = `
          <p class="text-lg font-semibold">${artwork.title}</p>
          <p class="text-sm text-gray-400">Edi√ß√µes: ${artwork.editions} | Wallet: ${artwork.artistWallet}</p>
          <div class="flex justify-between mt-2">
            <div>
              <span class="text-green-400">‚úîÔ∏è ${artwork.votes.yes}</span>
              <span class="text-red-400 ml-4">‚ùå ${artwork.votes.no}</span>
            </div>
            <div>
              <button class="approve-btn bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded mr-2" data-index="${index}">Aprovar</button>
              <button class="reject-btn bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded" data-index="${index}">Rejeitar</button>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
      attachVoteHandlersCuradoria();
    }

    function attachVoteHandlersCuradoria() {
      document.querySelectorAll("#curadoria-section .approve-btn").forEach((btn) => {
        btn.onclick = () => {
          const i = btn.dataset.index;
          submittedArtworksCuradoria[i].votes.yes++;
          renderArtworksCuradoria();
        };
      });

      document.querySelectorAll("#curadoria-section .reject-btn").forEach((btn) => {
        btn.onclick = () => {
          const i = btn.dataset.index;
          submittedArtworksCuradoria[i].votes.no++;
          renderArtworksCuradoria();
        };
      });
      checkAccessCuradoria(); // Restringe os bot√µes a wallets autorizadas
    }

    async function checkWalletAccessCuradoria() {
      if (typeof window.ethereum === 'undefined') {
        // alert("MetaMask n√£o detectado. Instale para acessar.");
        // showSection('home-section'); // Redirect if no MetaMask
        return;
      }
      try {
        const accounts = await window.ethereum.request({ method: 'eth_accounts' }); // Use eth_accounts to check if already connected
        if (accounts.length > 0) {
          currentWallet = accounts[0].toLowerCase();
          document.getElementById("walletStatusCuradoria").textContent = `Wallet conectada: ${currentWallet}`;
          checkAccessCuradoria();
        }
      } catch (err) {
        console.error("Erro ao verificar wallet para curadoria:", err);
      }
    }

    // ============ FOOTER LOGIC ============
    window.addEventListener('scroll', () => {
      const footer = document.getElementById('daoFooter');
      const scrollY = window.scrollY;
      const windowHeight = window.innerHeight;
      const docHeight = document.body.scrollHeight;
      
      // Check if any connect button is hidden (implies connected)
      const isConnected = document.getElementById('connectBtnArtist').style.display === 'none' ||
                          document.getElementById('connectButtonHome').style.display === 'none' ||
                          document.getElementById('connectWalletScientist').style.display === 'none' ||
                          document.getElementById('connectWalletSupporter').style.display === 'none' ||
                          document.getElementById('connectWalletCuradoria').style.display === 'none';

      if (isConnected || (scrollY + windowHeight >= docHeight - 100)) {
        footer.style.opacity = 1;
      } else {
        footer.style.opacity = 0;
      }
    });

    const footerMessages = [
      "Feito com üç© ‚ù§Ô∏è pela comunidade NeuroArte DAO.",
      "Governan√ßa √©tica, transparente e descentralizada.",
      "Onde arte e neurodiversidade encontram a pesquisa.",
      "DAO: √©tica, arte e ci√™ncia em rede viva."
    ];
    let footerMessageIndex = 0;
    setInterval(() => {
      footerMessageIndex = (footerMessageIndex + 1) % footerMessages.length;
      document.getElementById("footerText").textContent = footerMessages[footerMessageIndex];
    }, 6000);

    // ============ INITIALIZATION ============
    document.addEventListener('DOMContentLoaded', () => {
      showSection('home-section'); // Default to home section
      toggleLanguage('pt'); // Default to Portuguese

      // Initial checks for portals that might need data on load
      renderGallery(artistArtworks); // Render artist gallery initially
      // No need to call loadProposalsScientist, loadArtProposalsSupporter, etc. here
      // as they are called when their respective sections are activated.
      // For curadoria, we need to check access and render
      checkWalletAccessCuradoria();
      renderArtworksCuradoria();
    });
  </script>
</body>
</html>
